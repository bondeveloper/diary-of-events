{"ast":null,"code":"import _taggedTemplateLiteral from\"/var/www/git/projects/diary-of-events/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _classCallCheck from\"/var/www/git/projects/diary-of-events/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/var/www/git/projects/diary-of-events/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/var/www/git/projects/diary-of-events/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/var/www/git/projects/diary-of-events/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function _templateObject(){var data=_taggedTemplateLiteral([\"\\n                            display: block;\\n                            margin: 0 auto;\\n                            border-color: red;\\n                            \"]);_templateObject=function _templateObject(){return data;};return data;}import React,{Component}from'react';import{connect}from'react-redux';import{Redirect}from'react-router-dom';import Button from'react-bootstrap/Button';import Container from'react-bootstrap/Container';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{css}from\"@emotion/core\";import RingLoader from\"react-spinners/RingLoader\";import classes from'./List.module.css';import*as actions from'../../../../store/actions/index';import Table from'../../../UI/Table/Table';var WorkoutList=/*#__PURE__*/function(_Component){_inherits(WorkoutList,_Component);var _super=_createSuper(WorkoutList);function WorkoutList(){var _this;_classCallCheck(this,WorkoutList);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.viewWorkoutHandler=function(data){_this.props.onRenderViewComponent(data);_this.props.history.push('workouts/'+data._id);};_this.createWorkoutHandler=function(){_this.props.onRenderCreateComponent();_this.props.history.push('workouts/create');};_this.deleteWorkoutHandler=function(pk){_this.props.onDeleteWorkout({id:pk,token:_this.props.token});_this.props.onFetchWorkouts(_this.props.token);};return _this;}_createClass(WorkoutList,[{key:\"componentDidMount\",value:function componentDidMount(){console.log(this.props.isAuth);if(this.props.isAuth){this.props.history.push(this.props.redirect);this.props.onFetchWorkouts(this.props.token);}}},{key:\"render\",value:function render(){var excludeFromTable=['sessions','__v','_account','_id'];var override=css(_templateObject());var tableContent=this.props.loading&&true?/*#__PURE__*/_jsx(RingLoader,{color:\"blue\",loading:\"true\",css:override,size:30}):/*#__PURE__*/_jsx(Table,{data:this.props.workouts,keyValue:\"_id\",excludeFromTable:excludeFromTable,viewClicked:this.viewWorkoutHandler,deleteClicked:this.deleteWorkoutHandler});return/*#__PURE__*/_jsxs(Container,{fluid:true,className:classes.List,children:[/*#__PURE__*/_jsx(Redirect,{to:this.props.redirect}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{xs:12,children:/*#__PURE__*/_jsx(FontAwesomeIcon,{\"data-toggle\":\"tooltip\",\"data-placement\":\"left\",title:\"Create Workout\",icon:\"plus-circle\",onClick:this.createWorkoutHandler,className:classes.CreateBtn})}),/*#__PURE__*/_jsx(Col,{xs:12,children:tableContent})]})]});}}]);return WorkoutList;}(Component);;var mapStateToProps=function mapStateToProps(state){console.log(state);return{isAuth:state.signin.token!==null,token:state.signin.token,redirect:state.workouts.redirect,workouts:state.workouts.list,loading:state.workouts.loading};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onFetchWorkouts:function onFetchWorkouts(token){return dispatch(actions.fetchWorkouts(token));},onSetViewed:function onSetViewed(workout){return dispatch(actions.setViewedWorkout(workout));},onDeleteWorkout:function onDeleteWorkout(data){return dispatch(actions.deleteWorkout(data));},onRenderCreateComponent:function onRenderCreateComponent(){return dispatch(actions.renderCreateWorkout());},onRenderViewComponent:function onRenderViewComponent(data){return dispatch(actions.renderViewWorkout(data));}};};export default connect(mapStateToProps,mapDispatchToProps)(WorkoutList);","map":{"version":3,"sources":["/var/www/git/projects/diary-of-events/src/components/pages/Workouts/List/List.js"],"names":["React","Component","connect","Redirect","Button","Container","Row","Col","FontAwesomeIcon","css","RingLoader","classes","actions","Table","WorkoutList","viewWorkoutHandler","data","props","onRenderViewComponent","history","push","_id","createWorkoutHandler","onRenderCreateComponent","deleteWorkoutHandler","pk","onDeleteWorkout","id","token","onFetchWorkouts","console","log","isAuth","redirect","excludeFromTable","override","tableContent","loading","workouts","List","CreateBtn","mapStateToProps","state","signin","list","mapDispatchToProps","dispatch","fetchWorkouts","onSetViewed","workout","setViewedWorkout","deleteWorkout","renderCreateWorkout","renderViewWorkout"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport Button from 'react-bootstrap/Button';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport { css } from \"@emotion/core\";\nimport RingLoader from \"react-spinners/RingLoader\";\n\nimport classes from './List.module.css';\n\nimport * as actions from '../../../../store/actions/index';\nimport Table from '../../../UI/Table/Table';\n\nclass WorkoutList extends Component {\n\n    componentDidMount () {\n        console.log( this.props.isAuth );\n        if ( this.props.isAuth ) {\n            this.props.history.push(this.props.redirect)\n            this.props.onFetchWorkouts( this.props.token );\n        }\n    }\n\n\n    viewWorkoutHandler = data => {\n        this.props.onRenderViewComponent( data );\n        this.props.history.push('workouts/'+data._id);\n    }\n\n    createWorkoutHandler = () => {\n        this.props.onRenderCreateComponent();\n        this.props.history.push('workouts/create');\n    }\n\n    deleteWorkoutHandler = ( pk ) => {\n        this.props.onDeleteWorkout( {\n            id: pk,\n            token: this.props.token\n        });\n\n        this.props.onFetchWorkouts( this.props.token );\n    }\n\n    render () {\n        const excludeFromTable = ['sessions', '__v', '_account', '_id'];\n\n        const override = css`\n                            display: block;\n                            margin: 0 auto;\n                            border-color: red;\n                            `;\n\n        const tableContent = this.props.loading && true ? <RingLoader color='blue' loading='true' css={override} size={30} /> : (\n            <Table\n                data={this.props.workouts}\n                keyValue='_id'\n                excludeFromTable={excludeFromTable}\n                viewClicked={this.viewWorkoutHandler}\n                deleteClicked={this.deleteWorkoutHandler}\n            />\n        )\n\n        return (\n            <Container fluid className={classes.List}>\n                <Redirect to={ this.props.redirect } />\n                <Row>\n                    <Col xs={12}>\n                        <FontAwesomeIcon\n                            data-toggle=\"tooltip\" data-placement=\"left\" title=\"Create Workout\"\n                            icon='plus-circle'\n                            onClick={this.createWorkoutHandler} className={classes.CreateBtn}/>\n                    </Col>\n                    <Col xs={12}>\n                        { tableContent }\n                    </Col>\n                </Row>\n            </Container>\n        );\n    };\n};\n\nconst mapStateToProps = state => {\n    console.log(state);\n    return {\n        isAuth: state.signin.token !== null,\n        token: state.signin.token,\n        redirect: state.workouts.redirect,\n        workouts: state.workouts.list,\n        loading: state.workouts.loading\n    }\n}\n\nconst mapDispatchToProps  = dispatch => {\n    return {\n        onFetchWorkouts: token => dispatch( actions.fetchWorkouts( token ) ),\n        onSetViewed: workout => dispatch( actions.setViewedWorkout( workout ) ),\n        onDeleteWorkout: data => dispatch( actions.deleteWorkout( data )),\n        onRenderCreateComponent: () => dispatch( actions.renderCreateWorkout() ),\n        onRenderViewComponent: data => dispatch( actions.renderViewWorkout( data ) )\n    };\n};\n\nexport default connect( mapStateToProps, mapDispatchToProps )( WorkoutList );\n"]},"metadata":{},"sourceType":"module"}