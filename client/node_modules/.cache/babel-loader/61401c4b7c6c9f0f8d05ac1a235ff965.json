{"ast":null,"code":"import axios from 'axios';\nimport { WORKOUT_FETCH_SUCCESS, WORKOUT_VIEWED_SET, WORKOUT_SESSION_CREATE_SUCCESSFUL, WORKOUT_SESSION_DELETE_SUCCESSFUL, WORKOUT_SESSION_UPDATE_SUCCESSFUL, WORKOUT_CREATE_SUCCESSFUL, WORKOUT_DELETE_SUCCESSFUL } from './actionTypes';\nexport const fetchWorkoutsSuccessful = data => {\n  return {\n    type: WORKOUT_FETCH_SUCCESS,\n    list: data\n  };\n};\nexport const postSuccessful = (type, data = null, component) => {\n  const c = '';\n\n  switch (compoent) {\n    case 'workout':\n      redirect = `workouts/${data._id}`;\n      break;\n  }\n\n  return {\n    type: type,\n    redirect: 'workouts'\n  };\n};\nexport const reqSuccessful = type => {\n  return {\n    type: type\n  };\n};\nexport const fetchWorkouts = token => {\n  return dispatch => {\n    axios.get('/api/workouts/', {\n      headers: {\n        'auth-token': token\n      }\n    }).then(res => {\n      dispatch(fetchWorkoutsSuccessful(res.data.workouts));\n    }).catch(err => {});\n  };\n};\nexport const viewedWorkout = data => {\n  return {\n    type: WORKOUT_VIEWED_SET,\n    view: data\n  };\n};\nexport const setViewedWorkout = data => {\n  return dispatch => {\n    dispatch(viewedWorkout(data));\n  };\n};\nexport const createWorkoutSession = data => {\n  return dispatch => {\n    axios.post('/api/workouts/' + data.id + '/sessions', data.data, {\n      headers: {\n        'auth-token': data.token\n      }\n    }).then(res => {\n      console.log(res.data);\n      dispatch(postSuccessful(WORKOUT_SESSION_CREATE_SUCCESSFUL));\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};\nexport const updateWorkoutSession = data => {\n  console.log(data);\n  return dispatch => {\n    axios.patch(`/api/workouts/${data.id}/sessions/${data.sessionId}`, data.data, {\n      headers: {\n        'auth-token': data.token\n      }\n    }).then(res => {\n      console.log(res.data);\n      dispatch(postSuccessful(WORKOUT_SESSION_UPDATE_SUCCESSFUL));\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};\nexport const deleteWorkoutSession = data => {\n  console.log(data);\n  return dispatch => {\n    axios.delete(`/api/workouts/${data.id}/sessions/${data.sessionId}`, {\n      headers: {\n        'auth-token': data.token\n      }\n    }).then(res => {\n      console.log(res.data);\n      dispatch(reqSuccessful(WORKOUT_SESSION_DELETE_SUCCESSFUL));\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};\nexport const createWorkout = data => {\n  return dispatch => {\n    axios.post('/api/workouts', data.data, {\n      headers: {\n        'auth-token': data.token\n      }\n    }).then(res => {\n      console.log(res.data);\n      dispatch(postSuccessful(WORKOUT_CREATE_SUCCESSFUL, res.data));\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};\nexport const deleteWorkout = data => {\n  return dispatch => {\n    axios.delete(`/api/workouts/${data.id}`, {\n      headers: {\n        'auth-token': data.token\n      }\n    }).then(res => {\n      console.log(res.data);\n      dispatch(reqSuccessful(WORKOUT_DELETE_SUCCESSFUL));\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};","map":{"version":3,"sources":["/var/www/git/projects/diary-of-events/src/store/actions/workouts.js"],"names":["axios","WORKOUT_FETCH_SUCCESS","WORKOUT_VIEWED_SET","WORKOUT_SESSION_CREATE_SUCCESSFUL","WORKOUT_SESSION_DELETE_SUCCESSFUL","WORKOUT_SESSION_UPDATE_SUCCESSFUL","WORKOUT_CREATE_SUCCESSFUL","WORKOUT_DELETE_SUCCESSFUL","fetchWorkoutsSuccessful","data","type","list","postSuccessful","component","c","compoent","redirect","_id","reqSuccessful","fetchWorkouts","token","dispatch","get","headers","then","res","workouts","catch","err","viewedWorkout","view","setViewedWorkout","createWorkoutSession","post","id","console","log","updateWorkoutSession","patch","sessionId","deleteWorkoutSession","delete","createWorkout","deleteWorkout"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { \n    WORKOUT_FETCH_SUCCESS,\n    WORKOUT_VIEWED_SET,\n    WORKOUT_SESSION_CREATE_SUCCESSFUL,\n    WORKOUT_SESSION_DELETE_SUCCESSFUL,\n    WORKOUT_SESSION_UPDATE_SUCCESSFUL,\n    WORKOUT_CREATE_SUCCESSFUL,\n    WORKOUT_DELETE_SUCCESSFUL\n    } from './actionTypes';\n\nexport const fetchWorkoutsSuccessful = data => {\n    return {\n        type: WORKOUT_FETCH_SUCCESS,\n        list: data\n    }\n}\n\nexport const postSuccessful = ( type, data = null, component) => {\n    const c = '';\n    switch ( compoent ) {\n        case 'workout':\n            redirect = `workouts/${data._id}`;\n            break;\n    }\n    return {\n        type: type,\n        redirect: 'workouts'\n    }\n}\n\nexport const reqSuccessful = type => {\n    return {\n        type: type\n    }\n}\n\nexport const fetchWorkouts = token => {\n    return dispatch => {\n        axios.get('/api/workouts/', {\n            headers: {\n                'auth-token' : token\n            }\n        })\n        .then( res => {\n            dispatch( fetchWorkoutsSuccessful( res.data.workouts ));\n        })\n        .catch( err => {\n\n        });\n    };\n};\n\nexport const viewedWorkout = data => {\n    return {\n        type: WORKOUT_VIEWED_SET,\n        view: data\n    }\n}\n\nexport const setViewedWorkout = data => {\n    return dispatch => {\n        dispatch( viewedWorkout( data ) )\n    };\n}\n\nexport const createWorkoutSession = data => {\n    return dispatch => {\n        axios.post('/api/workouts/'+data.id+'/sessions', data.data, {\n            headers: {\n                'auth-token' : data.token\n            }\n        })\n        .then( res => {\n            console.log( res.data );\n            dispatch( postSuccessful( WORKOUT_SESSION_CREATE_SUCCESSFUL ) )\n        }).catch( err => {\n            console.log(err);\n        })\n    }\n}\n\nexport const updateWorkoutSession = data => {\n    console.log(data);\n    return dispatch => {\n        axios.patch(`/api/workouts/${data.id}/sessions/${data.sessionId}`, data.data, {\n            headers: {\n                'auth-token' : data.token\n            }\n        })\n        .then( res => {\n            console.log( res.data );\n            dispatch( postSuccessful( WORKOUT_SESSION_UPDATE_SUCCESSFUL ) )\n        }).catch( err => {\n            console.log(err);\n        })\n    }\n}\n\nexport const deleteWorkoutSession = data => {\n    console.log(data);\n    return dispatch => {\n        axios.delete(`/api/workouts/${data.id}/sessions/${data.sessionId}`, {\n            headers: {\n                'auth-token' : data.token\n            }\n        })\n        .then( res => {\n            console.log( res.data );\n            dispatch( reqSuccessful( WORKOUT_SESSION_DELETE_SUCCESSFUL ) )\n        }).catch( err => {\n            console.log(err);\n        })\n    }\n}\n\nexport const createWorkout = data => {\n    return dispatch => {\n        axios.post('/api/workouts', data.data, {\n            headers: {\n                'auth-token' : data.token\n            }\n        })\n        .then( res => {\n            console.log( res.data );\n            dispatch( postSuccessful( WORKOUT_CREATE_SUCCESSFUL, res.data ) )\n        }).catch( err => {\n            console.log(err);\n        })\n    }\n}\n\nexport const deleteWorkout = data => {\n    return dispatch => {\n        axios.delete(`/api/workouts/${data.id}`, {\n            headers: {\n                'auth-token' : data.token\n            }\n        })\n        .then( res => {\n            console.log( res.data );\n            dispatch( reqSuccessful( WORKOUT_DELETE_SUCCESSFUL ) )\n        }).catch( err => {\n            console.log(err);\n        })\n    }\n}"]},"metadata":{},"sourceType":"module"}