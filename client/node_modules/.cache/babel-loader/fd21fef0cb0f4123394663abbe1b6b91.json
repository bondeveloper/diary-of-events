{"ast":null,"code":"import _classCallCheck from\"/var/www/git/projects/diary-of-events/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/var/www/git/projects/diary-of-events/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/var/www/git/projects/diary-of-events/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/var/www/git/projects/diary-of-events/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Component}from'react';import{BrowserRouter as Router,Route,Switch,withRouter,Redirect}from'react-router-dom';import{connect}from'react-redux';import asyncComponent from'./hoc/asyncComponent/asyncComponent';import*as actions from'./store/actions/index';import Layout from'./hoc/Layout/Layout';import Home from'./containers/pages/Home/Home';import WorkoutView from'./components/pages/Workouts/View/View';import WorkoutSessionCreate from'./components/pages/Workouts/View/Sessions/Create/Create';import WorkoutCreate from'./components/pages/Workouts/Create/Create';import Signout from'./components/Auth/Signout/Signout';import WorkoutList from'./components/pages/Workouts/List/List';var asyncWorkouts=asyncComponent(function(){return import('./components/pages/Workouts/List/List');});var asyncHome=asyncComponent(function(){return import('./containers/pages/Home/Home');});var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){_classCallCheck(this,App);return _super.apply(this,arguments);}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.onCheckAuth();console.log(this.props.isAuth);console.log(this.props.redirect);this.props.history.push(this.props.redirect);return/*#__PURE__*/_jsx(Redirect,{to:this.props.redirect});}},{key:\"render\",value:function render(){var routes=/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(Switch,{children:/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,component:Home})})});if(this.props.isAuth){routes=/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/signout\",exact:true,component:Signout}),/*#__PURE__*/_jsx(Route,{path:\"/workouts/:id/sessions/create\",component:WorkoutSessionCreate}),/*#__PURE__*/_jsx(Route,{path:\"/workouts/create\",component:WorkoutCreate}),/*#__PURE__*/_jsx(Route,{path:\"/workouts/:id\",component:WorkoutView}),/*#__PURE__*/_jsx(Route,{path:\"/workouts\",exact:true,component:WorkoutList}),/*#__PURE__*/_jsx(Redirect,{to:\"/workouts\",from:\"/\"})]})});}return/*#__PURE__*/_jsx(Layout,{auth:this.props.isAuth,children:routes});}}]);return App;}(Component);var mapStateToProps=function mapStateToProps(state){return{isAuth:state.signin.token!==null,redirect:state.signin.redirect};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onCheckAuth:function onCheckAuth(){return dispatch(actions.checkSignedIn());}};};export default withRouter(connect(mapStateToProps,mapDispatchToProps)(App));","map":{"version":3,"sources":["/var/www/git/projects/diary-of-events/src/App.js"],"names":["Component","BrowserRouter","Router","Route","Switch","withRouter","Redirect","connect","asyncComponent","actions","Layout","Home","WorkoutView","WorkoutSessionCreate","WorkoutCreate","Signout","WorkoutList","asyncWorkouts","asyncHome","App","props","onCheckAuth","console","log","isAuth","redirect","history","push","routes","mapStateToProps","state","signin","token","mapDispatchToProps","dispatch","checkSignedIn"],"mappings":"wrBAAA,OAASA,SAAT,KAA0B,OAA1B,CACA,OAASC,aAAa,GAAIC,CAAAA,MAA1B,CAAkCC,KAAlC,CAAyCC,MAAzC,CAAiDC,UAAjD,CAA6DC,QAA7D,KAA6E,kBAA7E,CACA,OAASC,OAAT,KAAwB,aAAxB,CAEA,MAAOC,CAAAA,cAAP,KAA2B,qCAA3B,CAEA,MAAO,GAAKC,CAAAA,OAAZ,KAAyB,uBAAzB,CAEA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,IAAP,KAAiB,8BAAjB,CACA,MAAOC,CAAAA,WAAP,KAAwB,uCAAxB,CACA,MAAOC,CAAAA,oBAAP,KAAiC,yDAAjC,CACA,MAAOC,CAAAA,aAAP,KAA0B,2CAA1B,CACA,MAAOC,CAAAA,OAAP,KAAoB,mCAApB,CACA,MAAOC,CAAAA,WAAP,KAAwB,uCAAxB,CAEA,GAAMC,CAAAA,aAAa,CAAGT,cAAc,CAAC,UAAM,CACzC,MAAO,QAAO,uCAAP,CAAP,CACD,CAFmC,CAApC,CAIA,GAAMU,CAAAA,SAAS,CAAGV,cAAc,CAAC,UAAM,CACrC,MAAO,QAAO,8BAAP,CAAP,CACD,CAF+B,CAAhC,C,GAIMW,CAAAA,G,qPACmB,CACjB,KAAKC,KAAL,CAAWC,WAAX,GACAC,OAAO,CAACC,GAAR,CAAa,KAAKH,KAAL,CAAWI,MAAxB,EACAF,OAAO,CAACC,GAAR,CAAa,KAAKH,KAAL,CAAWK,QAAxB,EACA,KAAKL,KAAL,CAAWM,OAAX,CAAmBC,IAAnB,CAAyB,KAAKP,KAAL,CAAWK,QAApC,EACA,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAG,KAAKL,KAAL,CAAWK,QAA1B,EAAP,CACH,C,uCAEO,CACT,GAAIG,CAAAA,MAAM,cAAI,KAAC,MAAD,wBACP,KAAC,MAAD,wBACE,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,KAAK,KAArB,CAAuB,SAAS,CAAGjB,IAAnC,EADF,EADO,EAAd,CAMC,GAAK,KAAKS,KAAL,CAAWI,MAAhB,CAAyB,CACvBI,MAAM,cACJ,KAAC,MAAD,wBACE,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,CAAuB,KAAK,KAA5B,CAA6B,SAAS,CAAGb,OAAzC,EADF,cAEE,KAAC,KAAD,EAAO,IAAI,CAAC,+BAAZ,CAA4C,SAAS,CAAEF,oBAAvD,EAFF,cAGE,KAAC,KAAD,EAAO,IAAI,CAAC,kBAAZ,CAA+B,SAAS,CAAEC,aAA1C,EAHF,cAIE,KAAC,KAAD,EAAO,IAAI,CAAC,eAAZ,CAA4B,SAAS,CAAEF,WAAvC,EAJF,cAKE,KAAC,KAAD,EAAO,IAAI,CAAC,WAAZ,CAAwB,KAAK,KAA7B,CAA8B,SAAS,CAAEI,WAAzC,EALF,cAME,KAAC,QAAD,EAAU,EAAE,CAAC,WAAb,CAAyB,IAAI,CAAC,GAA9B,EANF,GADF,EADF,CAYD,CAED,mBACE,KAAC,MAAD,EAAQ,IAAI,CAAE,KAAKI,KAAL,CAAWI,MAAzB,UACGI,MADH,EADF,CAKD,C,iBApCe5B,S,EAuClB,GAAM6B,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,CAAI,CAC/B,MAAO,CACLN,MAAM,CAAEM,KAAK,CAACC,MAAN,CAAaC,KAAb,GAAuB,IAD1B,CAELP,QAAQ,CAAEK,KAAK,CAACC,MAAN,CAAaN,QAFlB,CAAP,CAID,CALD,CAOA,GAAMQ,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,QAAQ,CAAI,CACrC,MAAO,CACLb,WAAW,CAAE,6BAAMa,CAAAA,QAAQ,CAAEzB,OAAO,CAAC0B,aAAR,EAAF,CAAd,EADR,CAAP,CAGD,CAJD,CAMA,cAAe9B,CAAAA,UAAU,CAACE,OAAO,CAACsB,eAAD,CAAkBI,kBAAlB,CAAP,CAA8Cd,GAA9C,CAAD,CAAzB","sourcesContent":["import { Component } from 'react';\nimport { BrowserRouter as Router, Route, Switch, withRouter, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport asyncComponent from './hoc/asyncComponent/asyncComponent';\n\nimport * as actions from './store/actions/index';\n\nimport Layout from './hoc/Layout/Layout';\nimport Home from './containers/pages/Home/Home';\nimport WorkoutView from './components/pages/Workouts/View/View';\nimport WorkoutSessionCreate from './components/pages/Workouts/View/Sessions/Create/Create'\nimport WorkoutCreate from './components/pages/Workouts/Create/Create';\nimport Signout from './components/Auth/Signout/Signout';\nimport WorkoutList from './components/pages/Workouts/List/List';\n\nconst asyncWorkouts = asyncComponent(() => {\n  return import('./components/pages/Workouts/List/List');\n});\n\nconst asyncHome = asyncComponent(() => {\n  return import('./containers/pages/Home/Home');\n});\n\nclass App extends Component {\n    componentDidMount () {\n        this.props.onCheckAuth();\n        console.log( this.props.isAuth);\n        console.log( this.props.redirect);\n        this.props.history.push( this.props.redirect );\n        return <Redirect to={ this.props.redirect }/>;\n    }\n\n  render () {\n   let routes =  <Router>\n          <Switch>\n            <Route path='/' exact  component={ Home } />\n          </Switch>\n    </Router>;\n\n    if ( this.props.isAuth ) {\n      routes = (\n        <Router>\n          <Switch>\n            <Route path='/signout' exact component={ Signout } />\n            <Route path='/workouts/:id/sessions/create' component={WorkoutSessionCreate} />\n            <Route path='/workouts/create' component={WorkoutCreate} />\n            <Route path='/workouts/:id' component={WorkoutView} />\n            <Route path='/workouts' exact component={WorkoutList} />\n            <Redirect to='/workouts' from='/' />\n          </Switch>\n        </Router>\n      );\n    }\n\n    return (\n      <Layout auth={this.props.isAuth}>\n        {routes}\n      </Layout>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    isAuth: state.signin.token !== null,\n    redirect: state.signin.redirect\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onCheckAuth: () => dispatch( actions.checkSignedIn() )\n  }\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)( App ));\n"]},"metadata":{},"sourceType":"module"}