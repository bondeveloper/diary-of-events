{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/var/www/git/projects/diary-of-events/src/App.js\";\nimport { Component } from 'react';\nimport { BrowserRouter as Router, Route, Switch, withRouter, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport asyncComponent from './hoc/asyncComponent/asyncComponent';\nimport * as actions from './store/actions/index';\nimport Layout from './hoc/Layout/Layout';\nimport Home from './containers/pages/Home/Home';\nimport WorkoutView from './components/pages/Workouts/View/View';\nimport WorkoutSessionCreate from './components/pages/Workouts/View/Sessions/Create/Create';\nimport WorkoutCreate from './components/pages/Workouts/Create/Create';\nimport Signout from './components/Auth/Signout/Signout';\nimport WorkoutList from './components/pages/Workouts/List/List;';\nconst asyncWorkouts = asyncComponent(() => {\n  return import('./components/pages/Workouts/List/List');\n});\nconst asyncHome = asyncComponent(() => {\n  return import('./containers/pages/Home/Home');\n});\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.onCheckAuth();\n    this.props.history.push(this.props.redirect);\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: this.props.redirect\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 16\n    }, this);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!prevProps.isAuth && this.props.isAuth) {\n      this.props.history.push(this.props.redirect);\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: this.props.redirect\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 20\n      }, this);\n    }\n\n    return;\n  }\n\n  render() {\n    let routes = /*#__PURE__*/_jsxDEV(Router, {\n      children: /*#__PURE__*/_jsxDEV(Switch, {\n        children: /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          exact: true,\n          component: Home\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 18\n    }, this);\n\n    if (this.props.isAuth) {\n      routes = /*#__PURE__*/_jsxDEV(Router, {\n        children: /*#__PURE__*/_jsxDEV(Switch, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/signout\",\n            exact: true,\n            component: Signout\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/workouts/:id/sessions/create\",\n            component: WorkoutSessionCreate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/workouts/create\",\n            component: WorkoutCreate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/workouts/:id\",\n            component: WorkoutView\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/workouts\",\n            exact: true,\n            component: asyncWorkouts\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(Layout, {\n      auth: this.props.isAuth,\n      children: routes\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  console.log(state);\n  return {\n    isAuth: state.signin.token !== null,\n    redirect: state.signin.redirect\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onCheckAuth: () => dispatch(actions.checkSignedIn())\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(App));","map":{"version":3,"sources":["/var/www/git/projects/diary-of-events/src/App.js"],"names":["Component","BrowserRouter","Router","Route","Switch","withRouter","Redirect","connect","asyncComponent","actions","Layout","Home","WorkoutView","WorkoutSessionCreate","WorkoutCreate","Signout","WorkoutList","asyncWorkouts","asyncHome","App","componentDidMount","props","onCheckAuth","history","push","redirect","componentDidUpdate","prevProps","isAuth","render","routes","mapStateToProps","state","console","log","signin","token","mapDispatchToProps","dispatch","checkSignedIn"],"mappings":"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","sourcesContent":["import { Component } from 'react';\nimport { BrowserRouter as Router, Route, Switch, withRouter, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport asyncComponent from './hoc/asyncComponent/asyncComponent';\n\nimport * as actions from './store/actions/index';\n\nimport Layout from './hoc/Layout/Layout';\nimport Home from './containers/pages/Home/Home';\nimport WorkoutView from './components/pages/Workouts/View/View';\nimport WorkoutSessionCreate from './components/pages/Workouts/View/Sessions/Create/Create'\nimport WorkoutCreate from './components/pages/Workouts/Create/Create';\nimport Signout from './components/Auth/Signout/Signout';\nimport WorkoutList from './components/pages/Workouts/List/List;'\n\nconst asyncWorkouts = asyncComponent(() => {\n  return import('./components/pages/Workouts/List/List');\n});\n\nconst asyncHome = asyncComponent(() => {\n  return import('./containers/pages/Home/Home');\n});\n\nclass App extends Component {\n    componentDidMount () {\n        this.props.onCheckAuth();\n        this.props.history.push( this.props.redirect );\n        return <Redirect to={ this.props.redirect } />;\n    }\n\n    componentDidUpdate ( prevProps ) {\n\n        if ( !prevProps.isAuth && this.props.isAuth ) {\n            this.props.history.push( this.props.redirect );\n            return <Redirect to={ this.props.redirect } />\n        }\n        return;\n    }\n\n  render () {\n   let routes =  <Router>\n          <Switch>\n            <Route path='/' exact component={ Home } />\n          </Switch>\n    </Router>;\n\n    if ( this.props.isAuth ) {\n      routes = (\n        <Router>\n          <Switch>\n            <Route path='/signout' exact component={ Signout } />\n            <Route path='/workouts/:id/sessions/create' component={WorkoutSessionCreate} />\n            <Route path='/workouts/create' component={WorkoutCreate} />\n            <Route path='/workouts/:id' component={WorkoutView} />\n            <Route path='/workouts' exact component={asyncWorkouts} />\n          </Switch>\n        </Router>\n      );\n  }\n\n    return (\n      <Layout auth={this.props.isAuth}>\n        {routes}\n      </Layout>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n    console.log(state);\n  return {\n    isAuth: state.signin.token !== null,\n    redirect: state.signin.redirect\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onCheckAuth: () => dispatch( actions.checkSignedIn() )\n  }\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)( App ));\n"]},"metadata":{},"sourceType":"module"}