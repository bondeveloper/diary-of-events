{"ast":null,"code":"import axios from 'axios';\nimport { WORKOUT_FETCH_SUCCESS, WORKOUT_VIEWED_SET, RENDER_WORKOUT_COMPONENT, REQUEST_WORKOUTS_FETCHED, REQUEST_WORKOUT_CREATED, REQUEST_WORKOUTS_STARTED, REQUEST_WORKOUT_SESSION_CREATED, REQUEST_WORKOUT_SESSION_DELETED, REQUEST_WORKOUT_SESSION_UPDATED } from './actionTypes';\nexport const fetchWorkoutsSuccessful = data => {\n  return {\n    type: WORKOUT_FETCH_SUCCESS,\n    list: data\n  };\n};\n\nconst onRequestSuccess = (component, type = RENDER_WORKOUT_COMPONENT, data = null, isList = false) => {\n  let redirect = '';\n  let view,\n      list = null;\n  let shouldRedirect = false;\n\n  switch (component) {\n    case 'workout':\n      redirect = `/workouts/${data._id}`;\n      shouldRedirect = true;\n      break;\n\n    case 'workouts':\n      redirect = '/workouts';\n      break;\n\n    default:\n      console.log('default case should be provided!');\n  }\n\n  if (isList) list = data;else view = data;\n  return {\n    type: type,\n    redirect: redirect,\n    view: view,\n    loading: false,\n    list: list,\n    shouldRedirect: shouldRedirect\n  };\n};\n\nconst renderWorkoutComponentStarted = () => {\n  return {\n    type: RENDER_WORKOUT_COMPONENT,\n    loading: true,\n    redirect: '/workouts'\n  };\n};\n\nconst requestStarted = () => {\n  return {\n    loading: true,\n    type: REQUEST_WORKOUTS_STARTED,\n    errors: []\n  };\n};\n\nconst requestSuccess = (component, type = RENDER_WORKOUT_COMPONENT, data = null) => {\n  let redirect = '';\n  let view,\n      list = null;\n  let shouldRedirect = false;\n\n  switch (component) {\n    case 'workout':\n      redirect = `/workouts/${data._id}`;\n      view = data;\n      shouldRedirect = true;\n      break;\n\n    case 'workouts':\n      redirect = '/workouts';\n      list = data;\n      break;\n\n    default:\n      console.log('default case should be provided!');\n  }\n\n  return {\n    type: type,\n    redirect: redirect,\n    view: view,\n    loading: false,\n    list: list,\n    shouldRedirect: shouldRedirect\n  };\n};\n\nconst render = data => {\n  const {\n    redirect,\n    view,\n    shouldRedirect\n  } = { ...data\n  };\n  return dispatch => {\n    dispatch({\n      type: RENDER_WORKOUT_COMPONENT,\n      redirect: redirect,\n      view: view,\n      shouldRedirect: shouldRedirect\n    });\n  };\n}; // workouts\n\n\nexport const fetchWorkouts = token => {\n  return dispatch => {\n    dispatch(renderWorkoutComponentStarted());\n    axios.get('/api/workouts/', {\n      headers: {\n        'auth-token': token\n      }\n    }).then(res => {\n      dispatch(requestSuccess('workouts', REQUEST_WORKOUTS_FETCHED, res.data.workouts, true));\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};\nexport const createWorkout = data => {\n  return dispatch => {\n    dispatch(requestStarted());\n    axios.post('/api/workouts', data.data, {\n      headers: {\n        'auth-token': data.token\n      }\n    }).then(res => {\n      dispatch(requestSuccess('workout', REQUEST_WORKOUT_CREATED, res.data.workout));\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};\nexport const deleteWorkout = data => {\n  return dispatch => {\n    axios.delete(`/api/workouts/${data.id}`, {\n      headers: {\n        'auth-token': data.token\n      }\n    }).then(res => {\n      dispatch(onRequestSuccess('workouts', res.data));\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};\nexport const renderCreateWorkout = () => {\n  return render({\n    redirect: '/workouts/create'\n  });\n};\nexport const renderViewWorkout = data => {\n  return render({\n    redirect: `/workouts/${data._id}`,\n    view: data,\n    shouldRedirect: true\n  });\n};\nexport const viewedWorkout = data => {\n  return {\n    type: WORKOUT_VIEWED_SET,\n    view: data\n  };\n}; // workout sessions\n\nexport const setViewedWorkout = data => {\n  return dispatch => {\n    dispatch(viewedWorkout(data));\n  };\n};\nexport const createWorkoutSession = data => {\n  return dispatch => {\n    dispatch(requestStarted());\n    axios.post('/api/workouts/' + data.id + '/sessions', data.data, {\n      headers: {\n        'auth-token': data.token\n      }\n    }).then(res => {\n      dispatch(requestSuccess('workout', REQUEST_WORKOUT_SESSION_CREATED, res.data.workout));\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};\nexport const updateWorkoutSession = data => {\n  return dispatch => {\n    dispatch(requestStarted());\n    axios.patch(`/api/workouts/${data.id}/sessions/${data.sessionId}`, data.data, {\n      headers: {\n        'auth-token': data.token\n      }\n    }).then(res => {\n      console.log(res.data.workout);\n      dispatch(requestSuccess('workout', REQUEST_WORKOUT_SESSION_UPDATED, res.data.workout));\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};\nexport const deleteWorkoutSession = data => {\n  return dispatch => {\n    dispatch(requestStarted());\n    axios.delete(`/api/workouts/${data.id}/sessions/${data.sessionId}`, {\n      headers: {\n        'auth-token': data.token\n      }\n    }).then(res => {\n      dispatch(requestSuccess('workout', REQUEST_WORKOUT_SESSION_DELETED, res.data.workout));\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};\nexport const renderCreateWorkoutSession = data => {\n  return render({\n    redirect: `/workouts/${data._id}/sessions/create`,\n    view: data\n  });\n};\nexport const cancelCreateWorkoutSession = data => {\n  return render({\n    redirect: `/workouts/${data._id}`,\n    view: data,\n    shouldRedirect: true\n  });\n};","map":{"version":3,"sources":["/var/www/git/projects/diary-of-events/src/store/actions/workouts.js"],"names":["axios","WORKOUT_FETCH_SUCCESS","WORKOUT_VIEWED_SET","RENDER_WORKOUT_COMPONENT","REQUEST_WORKOUTS_FETCHED","REQUEST_WORKOUT_CREATED","REQUEST_WORKOUTS_STARTED","REQUEST_WORKOUT_SESSION_CREATED","REQUEST_WORKOUT_SESSION_DELETED","REQUEST_WORKOUT_SESSION_UPDATED","fetchWorkoutsSuccessful","data","type","list","onRequestSuccess","component","isList","redirect","view","shouldRedirect","_id","console","log","loading","renderWorkoutComponentStarted","requestStarted","errors","requestSuccess","render","dispatch","fetchWorkouts","token","get","headers","then","res","workouts","catch","err","createWorkout","post","workout","deleteWorkout","delete","id","renderCreateWorkout","renderViewWorkout","viewedWorkout","setViewedWorkout","createWorkoutSession","updateWorkoutSession","patch","sessionId","deleteWorkoutSession","renderCreateWorkoutSession","cancelCreateWorkoutSession"],"mappings":"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","sourcesContent":["import axios from 'axios';\n\nimport {\n    WORKOUT_FETCH_SUCCESS,\n    WORKOUT_VIEWED_SET,\n    RENDER_WORKOUT_COMPONENT,\n    REQUEST_WORKOUTS_FETCHED,\n    REQUEST_WORKOUT_CREATED,\n    REQUEST_WORKOUTS_STARTED,\n    REQUEST_WORKOUT_SESSION_CREATED,\n    REQUEST_WORKOUT_SESSION_DELETED,\n    REQUEST_WORKOUT_SESSION_UPDATED\n    } from './actionTypes';\n\nexport const fetchWorkoutsSuccessful = data => {\n    return {\n        type: WORKOUT_FETCH_SUCCESS,\n        list: data\n    }\n}\n\nconst onRequestSuccess = ( component, type = RENDER_WORKOUT_COMPONENT, data = null, isList = false) => {\n    let redirect = '';\n    let view, list = null;\n    let shouldRedirect = false;\n    switch ( component ) {\n        case 'workout':\n            redirect = `/workouts/${data._id}`;\n            shouldRedirect = true;\n            break;\n        case 'workouts':\n            redirect = '/workouts';\n            break;\n        default:\n        console.log('default case should be provided!');\n    }\n\n    if ( isList ) list = data; else view = data;\n\n    return {\n        type: type,\n        redirect: redirect,\n        view: view,\n        loading: false,\n        list: list,\n        shouldRedirect: shouldRedirect\n    }\n}\n\nconst renderWorkoutComponentStarted = () => {\n    return {\n        type: RENDER_WORKOUT_COMPONENT,\n        loading: true,\n        redirect: '/workouts'\n    }\n}\n\nconst requestStarted = () => {\n    return {\n        loading: true,\n        type: REQUEST_WORKOUTS_STARTED,\n        errors: [],\n    }\n}\n\nconst requestSuccess = ( component, type = RENDER_WORKOUT_COMPONENT, data = null ) => {\n    let redirect = '';\n    let view, list = null;\n    let shouldRedirect = false;\n    switch ( component ) {\n        case 'workout':\n            redirect = `/workouts/${data._id}`;\n            view = data;\n            shouldRedirect = true;\n            break;\n        case 'workouts':\n            redirect = '/workouts';\n            list = data;\n            break;\n        default:\n            console.log('default case should be provided!')\n    }\n\n    return {\n        type: type,\n        redirect: redirect,\n        view: view,\n        loading: false,\n        list: list,\n        shouldRedirect: shouldRedirect\n    }\n}\n\nconst render = data => {\n    const { redirect, view, shouldRedirect } = {...data};\n    return dispatch => {\n        dispatch({\n            type: RENDER_WORKOUT_COMPONENT,\n            redirect: redirect,\n            view: view,\n            shouldRedirect: shouldRedirect\n        });\n    }\n}\n\n// workouts\n\nexport const fetchWorkouts = token => {\n    return dispatch => {\n        dispatch( renderWorkoutComponentStarted() );\n\n        axios.get('/api/workouts/', {\n            headers: {\n                'auth-token' : token\n            }\n        })\n        .then( res => {\n            dispatch( requestSuccess( 'workouts', REQUEST_WORKOUTS_FETCHED, res.data.workouts, true));\n        })\n        .catch( err => {\n            console.log(err);\n        });\n    };\n};\n\nexport const createWorkout = data => {\n    return dispatch => {\n        dispatch( requestStarted() );\n\n        axios.post('/api/workouts', data.data, {\n            headers: {\n                'auth-token' : data.token\n            }\n        })\n        .then( res => {\n            dispatch( requestSuccess( 'workout', REQUEST_WORKOUT_CREATED, res.data.workout ) )\n        }).catch( err => {\n            console.log(err);\n        })\n    }\n}\n\nexport const deleteWorkout = data => {\n    return dispatch => {\n        axios.delete(`/api/workouts/${data.id}`, {\n            headers: {\n                'auth-token' : data.token\n            }\n        })\n        .then( res => {\n            dispatch( onRequestSuccess( 'workouts', res.data ) )\n        }).catch( err => {\n            console.log(err);\n        })\n    }\n}\n\nexport const renderCreateWorkout = () => {\n    return render( { redirect: '/workouts/create' } );\n}\n\nexport const renderViewWorkout = data => {\n    return render( {\n        redirect: `/workouts/${ data._id }`,\n        view: data,\n        shouldRedirect: true\n    } );\n}\n\nexport const viewedWorkout = data => {\n    return {\n        type: WORKOUT_VIEWED_SET,\n        view: data\n    }\n}\n\n// workout sessions\n\nexport const setViewedWorkout = data => {\n    return dispatch => {\n        dispatch( viewedWorkout( data ) )\n    };\n}\n\nexport const createWorkoutSession = data => {\n    return dispatch => {\n        dispatch( requestStarted() );\n\n        axios.post('/api/workouts/'+data.id+'/sessions', data.data, {\n            headers: {\n                'auth-token' : data.token\n            }\n        })\n        .then( res => {\n            dispatch( requestSuccess( 'workout', REQUEST_WORKOUT_SESSION_CREATED, res.data.workout ) );\n        }).catch( err => {\n            console.log(err);\n        })\n    }\n}\n\nexport const updateWorkoutSession = data => {\n    return dispatch => {\n        dispatch( requestStarted() );\n\n        axios.patch(`/api/workouts/${data.id}/sessions/${data.sessionId}`, data.data, {\n            headers: {\n                'auth-token' : data.token\n            }\n        })\n        .then( res => {\n            console.log(res.data.workout );\n            dispatch( requestSuccess( 'workout', REQUEST_WORKOUT_SESSION_UPDATED, res.data.workout  ) )\n        }).catch( err => {\n            console.log(err);\n        })\n    }\n}\n\nexport const deleteWorkoutSession = data => {\n    return dispatch => {\n        dispatch( requestStarted() );\n\n        axios.delete(`/api/workouts/${data.id}/sessions/${data.sessionId}`, {\n            headers: {\n                'auth-token' : data.token\n            }\n        })\n        .then( res => {\n            dispatch( requestSuccess( 'workout', REQUEST_WORKOUT_SESSION_DELETED, res.data.workout ) )\n        }).catch( err => {\n            console.log(err);\n        })\n    }\n}\n\nexport const renderCreateWorkoutSession = data => {\n    return render( {\n        redirect: `/workouts/${data._id}/sessions/create`,\n        view: data,\n    } );\n}\n\nexport const cancelCreateWorkoutSession = data => {\n    return render({\n        redirect: `/workouts/${data._id}`,\n        view: data,\n        shouldRedirect: true\n    })\n}\n"]},"metadata":{},"sourceType":"module"}