{"ast":null,"code":"import _classCallCheck from\"/var/www/git/projects/diary-of-events/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/var/www/git/projects/diary-of-events/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/var/www/git/projects/diary-of-events/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/var/www/git/projects/diary-of-events/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Component}from'react';import Form from'react-bootstrap/Form';import Container from'react-bootstrap/Container';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import Button from'react-bootstrap/Button';import{connect}from'react-redux';import{Redirect}from'react-router-dom';import classes from'./Create.module.css';import*as actions from'../../../../../../store/actions/index';import{workoutSessionForm,formInputChanged}from'../../../../../../shared/form-utility';import{formObjectToArray,mapKeyToValue,tranformPascalCaseToUnderscoreCase}from'../../../../../../shared/utility';import Aux from'../../../../../../hoc/Aux/Aux';var WorkoutSessionCreate=/*#__PURE__*/function(_Component){_inherits(WorkoutSessionCreate,_Component);var _super=_createSuper(WorkoutSessionCreate);function WorkoutSessionCreate(){var _this;_classCallCheck(this,WorkoutSessionCreate);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={form:workoutSessionForm};_this.inputChangedHandler=function(event,key){_this.setState({form:formInputChanged(_this.state.form,event,key)});};_this.onCreateWorkoutSessionHandler=function(event){_this.props.onCreateWorkoutSession({data:tranformPascalCaseToUnderscoreCase(mapKeyToValue(_this.state.form)),id:_this.props.match.params.id,token:_this.props.token});};return _this;}_createClass(WorkoutSessionCreate,[{key:\"render\",value:function render(){var _this2=this;var form=formObjectToArray(this.state.form).map(function(ele){var formElements=null;switch(ele.settings.type){case'input':formElements=/*#__PURE__*/_jsxs(Aux,{children:[/*#__PURE__*/_jsx(Col,{xs:\"auto\",className:\"my-1\",children:/*#__PURE__*/_jsxs(Form.Label,{children:[\" \",ele.settings.label,\" \"]})}),/*#__PURE__*/_jsxs(Col,{sm:6,className:\"my-1\",children:[/*#__PURE__*/_jsx(Form.Label,{htmlFor:ele.key,srOnly:true,children:ele.settings.label}),/*#__PURE__*/_jsx(Form.Control,{type:ele.settings.type,id:ele.key,placeholder:ele.settings.config.placeholder,onChange:function onChange(event){return _this2.inputChangedHandler(event,ele.key);}})]})]});break;case'select':var optionsData=ele.settings.config.options;var options=Object.keys(optionsData).map(function(key){return/*#__PURE__*/_jsxs(\"option\",{value:key,children:[\" \",optionsData[key]]},key);});formElements=/*#__PURE__*/_jsx(Aux,{children:/*#__PURE__*/_jsxs(Col,{sm:4,className:\"my-1\",children:[/*#__PURE__*/_jsx(Form.Label,{htmlFor:ele.key,srOnly:true,children:\"unit\"}),/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",defaultValue:\"Choose...\",id:ele.key,onChange:function onChange(event){return _this2.inputChangedHandler(event,ele.key);},children:[/*#__PURE__*/_jsxs(\"option\",{children:[\" \",ele.settings.config.placeholder,\"...\"]}),options]})]})});break;default:console.log(ele.settings.type);}return/*#__PURE__*/_jsx(Form.Row,{className:\"align-items-center\",children:formElements},ele.key);});return/*#__PURE__*/_jsxs(Container,{className:classes.Create,children:[/*#__PURE__*/_jsx(Redirect,{to:this.props.redirect}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{sm:\"12\",children:/*#__PURE__*/_jsxs(Form,{children:[form,/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:this.onCreateWorkoutSessionHandler,children:\"Submit\"})]})})})]});}}]);return WorkoutSessionCreate;}(Component);;var mapStateToProps=function mapStateToProps(state){console.log(state);return{token:state.signin.token,redirect:state.workouts.redirect};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onCreateWorkoutSession:function onCreateWorkoutSession(data){return dispatch(actions.createWorkoutSession(data));}};};export default connect(mapStateToProps,mapDispatchToProps)(WorkoutSessionCreate);","map":{"version":3,"sources":["/var/www/git/projects/diary-of-events/src/components/pages/Workouts/View/Sessions/Create/Create.js"],"names":["React","Component","Form","Container","Row","Col","Button","connect","Redirect","classes","actions","workoutSessionForm","formInputChanged","formObjectToArray","mapKeyToValue","tranformPascalCaseToUnderscoreCase","Aux","WorkoutSessionCreate","state","form","inputChangedHandler","event","key","setState","onCreateWorkoutSessionHandler","props","onCreateWorkoutSession","data","id","match","params","token","map","ele","formElements","settings","type","label","config","placeholder","optionsData","options","Object","keys","console","log","Create","redirect","mapStateToProps","signin","workouts","mapDispatchToProps","dispatch","createWorkoutSession"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Form from 'react-bootstrap/Form';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\n\nimport classes from './Create.module.css';\nimport * as actions from '../../../../../../store/actions/index';\n\nimport { workoutSessionForm, formInputChanged } from '../../../../../../shared/form-utility';\nimport { formObjectToArray, mapKeyToValue, tranformPascalCaseToUnderscoreCase } from '../../../../../../shared/utility';\nimport Aux from '../../../../../../hoc/Aux/Aux';\n\nclass WorkoutSessionCreate extends Component {\n    state = {\n        form: workoutSessionForm\n    }\n\n    inputChangedHandler = ( event, key ) => {\n        this.setState({ form: formInputChanged( this.state.form, event, key ) });\n    }\n\n    onCreateWorkoutSessionHandler = event => {\n        this.props.onCreateWorkoutSession({\n            data: tranformPascalCaseToUnderscoreCase( mapKeyToValue( this.state.form ) ), \n            id: this.props.match.params.id,\n            token: this.props.token\n        });\n    } \n\n    render () {\n        let form = formObjectToArray( this.state.form ).map( ele => {\n            let formElements = null;\n\n            switch ( ele.settings.type ) {\n                case 'input' :\n                    formElements = (\n                        <Aux>\n                            <Col xs=\"auto\" className=\"my-1\">\n                                <Form.Label> { ele.settings.label } </Form.Label>\n                            </Col>\n                            <Col sm={6} className=\"my-1\">\n                                <Form.Label htmlFor={ele.key} srOnly>\n                                { ele.settings.label }\n                                </Form.Label>\n                                <Form.Control \n                                    type={ ele.settings.type }\n                                    id={ele.key}\n                                    placeholder={ ele.settings.config.placeholder }\n                                    onChange={ event => this.inputChangedHandler( event, ele.key ) }/>\n                            </Col>\n                        </Aux>\n                    );\n                    break;\n                case 'select' :\n                    const optionsData = ele.settings.config.options;\n                    const options = Object.keys( optionsData ).map( key => {\n                        return (\n                            <option value={ key } key={key}> { optionsData[key] }</option>\n                        )\n                    });\n                    formElements = (\n                        <Aux>\n                            <Col sm={4} className=\"my-1\">\n                                <Form.Label htmlFor={ele.key} srOnly>\n                                    unit\n                                </Form.Label>\n                                <Form.Control \n                                    as=\"select\" \n                                    defaultValue=\"Choose...\" \n                                    id={ ele.key }\n                                    onChange={ event => this.inputChangedHandler( event, ele.key )} >\n                                    <option> { ele.settings.config.placeholder }...</option>\n                                    { options }\n                                </Form.Control>\n                            </Col>\n                        </Aux>\n                    );\n                    break;\n                default:\n                    console.log( ele.settings.type );\n            }\n\n            return (\n                <Form.Row className=\"align-items-center\" key={ ele.key }>\n                    { formElements }                 \n                </Form.Row>\n            );\n        });\n\n        return (\n        <Container className={classes.Create}>\n            <Redirect to={this.props.redirect} />\n            <Row>\n                <Col sm='12'>\n                    <Form>\n                        { form }\n                        <Button variant='danger' onClick={this.onCreateWorkoutSessionHandler}>\n                            Submit\n                        </Button>\n                    </Form>\n                </Col>\n            </Row>\n        </Container>\n        );\n    }\n};\n\nconst mapStateToProps = state => {\n    console.log(state);\n    return {\n        token: state.signin.token,\n        redirect: state.workouts.redirect\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onCreateWorkoutSession: data => dispatch( actions.createWorkoutSession( data ))\n    };\n};\n\n\nexport default connect( mapStateToProps , mapDispatchToProps) ( WorkoutSessionCreate );"]},"metadata":{},"sourceType":"module"}