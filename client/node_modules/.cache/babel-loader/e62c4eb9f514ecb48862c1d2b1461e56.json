{"ast":null,"code":"import _defineProperty from\"/var/www/git/projects/diary-of-events/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/var/www/git/projects/diary-of-events/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/var/www/git/projects/diary-of-events/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/var/www/git/projects/diary-of-events/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/var/www/git/projects/diary-of-events/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component}from'react';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import Accordion from'react-bootstrap/Accordion';import Card from'react-bootstrap/Card';import Button from'react-bootstrap/Button';import moment from'moment';import{connect}from'react-redux';import*as actions from'../../../../../../store/actions/index';import classes from'./List.module.css';var WorkoutSessionList=/*#__PURE__*/function(_Component){_inherits(WorkoutSessionList,_Component);var _super=_createSuper(WorkoutSessionList);function WorkoutSessionList(){var _this;_classCallCheck(this,WorkoutSessionList);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.updateTimesHandler=function(sessionId,key){_this.props.onUpdateWorkoutSession({id:_this.props.id,token:_this.props.token,sessionId:sessionId,data:_defineProperty({},key,moment())});};_this.deleteSessionHandler=function(sessionId){_this.props.onDeleteWorkoutSession({sessionId:sessionId,id:_this.props.id,token:_this.props.token});};return _this;}_createClass(WorkoutSessionList,[{key:\"render\",value:function render(){var _this2=this;var sessionData=this.props.sessions.map(function(session){var displayTimes,startEndBtn=null;if(session.start&&session.end){displayTimes=\" \".concat(moment(session.start).format(' HH:mm:ss'),\" - \").concat(moment(session.end).format(' HH:mm:ss'));}else if(session.start&&!session.end){displayTimes=\" in progress since  \".concat(moment(session.start).format('MMM DD yyyy HH:mm:ss'),\"  \");startEndBtn=/*#__PURE__*/_jsx(Button,{variant:\"outline-warning\",onClick:function onClick(){return _this2.updateTimesHandler(session._id,'end');},children:\"end\"});console.log(1);}else{displayTimes='Session not started';startEndBtn=/*#__PURE__*/_jsx(Button,{variant:\"outline-primary\",size:\"sm\",onClick:function onClick(){return _this2.updateTimesHandler(session._id,'start');},children:\"start\"});}var startBtn=!session.start?/*#__PURE__*/_jsx(Button,{variant:\"outline-primary\",size:\"sm\",children:\"start\"}):null;var endBtn=!session.end?/*#__PURE__*/_jsx(Button,{variant:\"outline-danger\",size:\"sm\",children:\"end\"}):null;return/*#__PURE__*/_jsx(Col,{md:\"3\",children:/*#__PURE__*/_jsx(Accordion,{defaultActiveKey:session._id,children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsx(Accordion.Toggle,{as:Button,variant:\"link\",eventKey:session._id,children:moment(session.created_at).format('MMM Do YYYY')})}),/*#__PURE__*/_jsx(Accordion.Collapse,{eventKey:session._id,children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[session.weight,\" ( \",session.weight_unit,\" )\"]}),/*#__PURE__*/_jsx(\"li\",{children:displayTimes}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Button,{variant:\"link\",href:session.publicUrl,children:\"link\"})})]}),startEndBtn,/*#__PURE__*/_jsx(Button,{variant:\"outline-danger\",size:\"sm\",onClick:function onClick(){return _this2.deleteSessionHandler(session._id);},children:\"delete\"})]})})]})})},session._id);});return/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(\"div\",{className:classes.Sessions,children:sessionData})});}}]);return WorkoutSessionList;}(Component);;var mapStateToProps=function mapStateToProps(state){return{token:state.signin.token};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onUpdateWorkoutSession:function onUpdateWorkoutSession(data){return dispatch(actions.updateWorkoutSession(data));},onDeleteWorkoutSession:function onDeleteWorkoutSession(data){return dispatch(actions.deleteWorkoutSession(data));}};};export default connect(mapStateToProps,mapDispatchToProps)(WorkoutSessionList);","map":{"version":3,"sources":["/var/www/git/projects/diary-of-events/src/components/pages/Workouts/View/Sessions/List/List.js"],"names":["React","Component","Row","Col","Accordion","Card","Button","moment","connect","actions","classes","WorkoutSessionList","updateTimesHandler","sessionId","key","props","onUpdateWorkoutSession","id","token","data","deleteSessionHandler","onDeleteWorkoutSession","sessionData","sessions","map","session","displayTimes","startEndBtn","start","end","format","_id","console","log","startBtn","endBtn","created_at","weight","weight_unit","publicUrl","Sessions","mapStateToProps","state","signin","mapDispatchToProps","dispatch","updateWorkoutSession","deleteWorkoutSession"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Accordion from 'react-bootstrap/Accordion';\nimport Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\nimport moment from 'moment';\nimport { connect } from 'react-redux';\n\nimport * as actions from '../../../../../../store/actions/index';\n\nimport classes from './List.module.css';\n\nclass WorkoutSessionList extends Component {\n\n    updateTimesHandler = ( sessionId, key ) => {\n        this.props.onUpdateWorkoutSession( {\n            id: this.props.id,\n            token: this.props.token,\n            sessionId: sessionId,\n            data: {\n                [ key ]: moment()\n            }\n        } );\n    }\n    deleteSessionHandler = ( sessionId ) => {\n        this.props.onDeleteWorkoutSession({\n            sessionId: sessionId,\n            id: this.props.id,\n            token: this.props.token\n        });\n    }\n\n    render () {\n        const sessionData = this.props.sessions.map ( session => {\n            let displayTimes, startEndBtn = null;\n            if ( session.start && session.end  ) {\n                displayTimes = ` ${ moment( session.start ).format(' HH:mm:ss')} - ${ moment( session.end ).format(' HH:mm:ss') }`;\n            }else if ( session.start && !session.end  ) {\n                displayTimes = ` in progress since  ${ moment( session.start ).format('MMM DD yyyy HH:mm:ss') }  `;\n                startEndBtn = <Button variant='outline-warning' onClick={ () => this.updateTimesHandler( session._id, 'end' ) }>end</Button>;\n                console.log(1);\n            }else {\n                displayTimes = 'Session not started';\n                startEndBtn = <Button variant='outline-primary' size='sm' onClick={ () => this.updateTimesHandler( session._id, 'start' ) }>start</Button>\n            }\n            const startBtn = !session.start ? <Button variant='outline-primary' size='sm'>start</Button> : null;\n            const endBtn = !session.end ? <Button variant='outline-danger' size='sm'>end</Button> : null;\n            return ( <Col md='3' key={session._id}>\n                        <Accordion defaultActiveKey={ session._id }>\n                            <Card>\n                                <Card.Header>\n                                <Accordion.Toggle as={Button} variant=\"link\" eventKey={ session._id}>\n                                {moment( session.created_at ).format('MMM Do YYYY')}\n                                </Accordion.Toggle>\n                                </Card.Header>\n                                <Accordion.Collapse eventKey={ session._id}>\n                                <Card.Body>\n                                    <ul>\n                                        <li>{ session.weight } ( { session.weight_unit } )</li>\n                                        <li>{ displayTimes }</li>\n                                        <li><Button variant='link' href={ session.publicUrl }>link</Button></li>\n                                    </ul>\n                                    { startEndBtn }\n                                    <Button variant='outline-danger' size='sm' onClick={ () => this.deleteSessionHandler( session._id ) }>delete</Button>\n                                    \n                                </Card.Body>\n                                </Accordion.Collapse>\n                            </Card>\n                        </Accordion>\n                    </Col>\n                );\n        });\n    \n        return (\n            <Row>\n                <div className={classes.Sessions}>\n                    { sessionData }\n                </div>\n            </Row>\n        );\n    }\n};\nconst mapStateToProps = state => {\n    return {\n        token: state.signin.token\n    };\n};\nconst mapDispatchToProps = dispatch => {\n    return {\n        onUpdateWorkoutSession: data => dispatch( actions.updateWorkoutSession( data ) ),\n        onDeleteWorkoutSession: data => dispatch( actions.deleteWorkoutSession( data ) )\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps) ( WorkoutSessionList );"]},"metadata":{},"sourceType":"module"}