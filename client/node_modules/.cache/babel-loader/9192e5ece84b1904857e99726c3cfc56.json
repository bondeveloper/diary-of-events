{"ast":null,"code":"import axios from \"axios\";\nimport Cookie from 'js-cookie';\nimport { SIGNUP_SUCCESS, SIGNUP_SHOW, REQUEST_FAILED } from './actionTypes';\nexport const requestSuccess = data => {\n  return {\n    account: data,\n    type: SIGNUP_SUCCESS,\n    loading: false,\n    hide: true,\n    redirect: '/'\n  };\n};\n\nconst requestFailed = err => {\n  let errors = [];\n\n  switch (err.status) {\n    case 400:\n      errors = err.data.errors;\n      break;\n\n    case 500:\n      errors.push({\n        message: err.statusText\n      });\n      errors = errors;\n  }\n\n  return {\n    type: REQUEST_FAILED,\n    errors: errors,\n    redirect: '/'\n  };\n};\n\nexport const signup = data => {\n  return dispatch => {\n    axios.post('/api/accounts/signup', data).then(res => {\n      Cookie.set('account', res.data.account);\n      dispatch(requestSuccess(res.data.account));\n    }).catch(err => {\n      dispatch(requestFailed(err.response));\n    });\n  };\n};\nexport const showSignup = currentState => {\n  return {\n    type: SIGNUP_SHOW,\n    hide: !currentState\n  };\n};","map":{"version":3,"sources":["/var/www/git/projects/diary-of-events/src/store/actions/signup.js"],"names":["axios","Cookie","SIGNUP_SUCCESS","SIGNUP_SHOW","REQUEST_FAILED","requestSuccess","data","account","type","loading","hide","redirect","requestFailed","err","errors","status","push","message","statusText","signup","dispatch","post","then","res","set","catch","response","showSignup","currentState"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AAEA,SAASC,cAAT,EAAyBC,WAAzB,EAAsCC,cAAtC,QAA4D,eAA5D;AAEA,OAAO,MAAMC,cAAc,GAAGC,IAAI,IAAI;AAClC,SAAO;AACHC,IAAAA,OAAO,EAAED,IADN;AAEHE,IAAAA,IAAI,EAAEN,cAFH;AAGHO,IAAAA,OAAO,EAAE,KAHN;AAIHC,IAAAA,IAAI,EAAE,IAJH;AAKHC,IAAAA,QAAQ,EAAE;AALP,GAAP;AAOH,CARM;;AAUP,MAAMC,aAAa,GAAGC,GAAG,IAAI;AACzB,MAAIC,MAAM,GAAG,EAAb;;AACA,UAAQD,GAAG,CAACE,MAAZ;AACI,SAAK,GAAL;AACID,MAAAA,MAAM,GAAGD,GAAG,CAACP,IAAJ,CAASQ,MAAlB;AACA;;AACJ,SAAK,GAAL;AACIA,MAAAA,MAAM,CAACE,IAAP,CAAY;AAAEC,QAAAA,OAAO,EAAEJ,GAAG,CAACK;AAAf,OAAZ;AACAJ,MAAAA,MAAM,GAAGA,MAAT;AANR;;AAQA,SAAO;AACHN,IAAAA,IAAI,EAAEJ,cADH;AAEHU,IAAAA,MAAM,EAAEA,MAFL;AAGHH,IAAAA,QAAQ,EAAE;AAHP,GAAP;AAKH,CAfD;;AAiBA,OAAO,MAAMQ,MAAM,GAAGb,IAAI,IAAI;AAE1B,SAAOc,QAAQ,IAAI;AAEfpB,IAAAA,KAAK,CAACqB,IAAN,CAAW,sBAAX,EAAmCf,IAAnC,EACCgB,IADD,CACOC,GAAG,IAAI;AACVtB,MAAAA,MAAM,CAACuB,GAAP,CAAW,SAAX,EAAsBD,GAAG,CAACjB,IAAJ,CAASC,OAA/B;AACAa,MAAAA,QAAQ,CAAEf,cAAc,CAACkB,GAAG,CAACjB,IAAJ,CAASC,OAAV,CAAhB,CAAR;AACH,KAJD,EAKCkB,KALD,CAKQZ,GAAG,IAAI;AACXO,MAAAA,QAAQ,CAAER,aAAa,CAAEC,GAAG,CAACa,QAAN,CAAf,CAAR;AACH,KAPD;AAQH,GAVD;AAWH,CAbM;AAeP,OAAO,MAAMC,UAAU,GAAGC,YAAY,IAAI;AACtC,SAAO;AACHpB,IAAAA,IAAI,EAAEL,WADH;AAEHO,IAAAA,IAAI,EAAE,CAACkB;AAFJ,GAAP;AAIH,CALM","sourcesContent":["import axios from \"axios\";\nimport Cookie from 'js-cookie';\n\nimport { SIGNUP_SUCCESS, SIGNUP_SHOW, REQUEST_FAILED } from './actionTypes';\n\nexport const requestSuccess = data => {\n    return {\n        account: data,\n        type: SIGNUP_SUCCESS,\n        loading: false,\n        hide: true,\n        redirect: '/'\n    };\n};\n\nconst requestFailed = err => {\n    let errors = [];\n    switch( err.status ) {\n        case 400:\n            errors = err.data.errors;\n            break;\n        case 500:\n            errors.push({ message: err.statusText})\n            errors = errors;\n    }\n    return {\n        type: REQUEST_FAILED,\n        errors: errors,\n        redirect: '/'\n    };\n}\n\nexport const signup = data => {\n\n    return dispatch => {\n\n        axios.post('/api/accounts/signup', data)\n        .then( res => {\n            Cookie.set('account', res.data.account);\n            dispatch( requestSuccess(res.data.account) );\n        })\n        .catch( err => {\n            dispatch( requestFailed( err.response ) );\n        });\n    };\n};\n\nexport const showSignup = currentState => {\n    return {\n        type: SIGNUP_SHOW,\n        hide: !currentState\n    }\n}"]},"metadata":{},"sourceType":"module"}