{"ast":null,"code":"import _classCallCheck from\"/var/www/git/projects/diary-of-events/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/var/www/git/projects/diary-of-events/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/var/www/git/projects/diary-of-events/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/var/www/git/projects/diary-of-events/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Component}from'react';import{workoutForm,formInputChanged}from'../../../../shared/form-utility';import{formObjectToArray,tranformPascalCaseToUnderscoreCase,mapKeyToValue}from'../../../../shared/utility';import Aux from'../../../../hoc/Aux/Aux';import Container from'react-bootstrap/Container';import Col from'react-bootstrap/Col';import Form from'react-bootstrap/Form';import Button from'react-bootstrap/Button';import{connect}from'react-redux';import{Redirect}from'react-router-dom';import classes from'./Create.module.css';import*as actions from'../../../../store/actions/index';var CreateWorkout=/*#__PURE__*/function(_Component){_inherits(CreateWorkout,_Component);var _super=_createSuper(CreateWorkout);function CreateWorkout(){var _this;_classCallCheck(this,CreateWorkout);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={form:workoutForm,validated:false};_this.inputChangedHandler=function(event,key){_this.setState({form:formInputChanged(_this.state.form,event,key)});};_this.onCreateWorkout=function(){_this.props.onCreateWorkout({data:tranformPascalCaseToUnderscoreCase(mapKeyToValue(_this.state.form)),token:_this.props.token});};return _this;}_createClass(CreateWorkout,[{key:\"render\",value:function render(){var _this2=this;var form=formObjectToArray(this.state.form).map(function(ele){var formElements=null;switch(ele.settings.type){case'input':formElements=/*#__PURE__*/_jsxs(Aux,{children:[/*#__PURE__*/_jsx(Col,{xs:\"auto\",className:\"my-1\",children:/*#__PURE__*/_jsxs(Form.Label,{children:[\" \",ele.settings.label,\" \"]})}),/*#__PURE__*/_jsxs(Col,{sm:6,className:\"my-1\",children:[/*#__PURE__*/_jsx(Form.Label,{htmlFor:ele.key,srOnly:true,children:ele.settings.label}),/*#__PURE__*/_jsx(Form.Control,{type:ele.settings.type,id:ele.key,placeholder:ele.settings.config.placeholder,onChange:function onChange(event){return _this2.inputChangedHandler(event,ele.key);}})]})]});break;case'select':var optionsData=ele.settings.config.options;var options=Object.keys(optionsData).map(function(key){return/*#__PURE__*/_jsxs(\"option\",{value:key,children:[\" \",optionsData[key]]},key);});formElements=/*#__PURE__*/_jsx(Aux,{children:/*#__PURE__*/_jsxs(Col,{sm:4,className:\"my-1\",children:[/*#__PURE__*/_jsx(Form.Label,{htmlFor:ele.key,srOnly:true,children:\"unit\"}),/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",defaultValue:\"Choose...\",id:ele.key,onChange:function onChange(event){return _this2.inputChangedHandler(event,ele.key);},children:[/*#__PURE__*/_jsxs(\"option\",{children:[\" \",ele.settings.config.placeholder,\"...\"]}),options]})]})});break;default:console.log(ele.settings.type);}return/*#__PURE__*/_jsx(Form.Row,{className:\"align-items-center\",children:formElements},ele.key);});return/*#__PURE__*/_jsx(Container,{className:classes.Create,children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(Redirect,{to:this.props.redirect}),form,/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:this.onCreateWorkout,children:\"Submit\"})]})});}}]);return CreateWorkout;}(Component);var mapStateToProps=function mapStateToProps(state){return{token:state.signin.token,view:state.workouts.view,redirect:state.workouts.redirect};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onCreateWorkout:function onCreateWorkout(data){return dispatch(actions.createWorkout(data));}};};export default connect(mapStateToProps,mapDispatchToProps)(CreateWorkout);","map":{"version":3,"sources":["/var/www/git/projects/diary-of-events/src/components/pages/Workouts/Create/Create.js"],"names":["React","Component","workoutForm","formInputChanged","formObjectToArray","tranformPascalCaseToUnderscoreCase","mapKeyToValue","Aux","Container","Col","Form","Button","connect","Redirect","classes","actions","CreateWorkout","state","form","validated","inputChangedHandler","event","key","setState","onCreateWorkout","props","data","token","map","ele","formElements","settings","type","label","config","placeholder","optionsData","options","Object","keys","console","log","Create","redirect","mapStateToProps","signin","view","workouts","mapDispatchToProps","dispatch","createWorkout"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport { workoutForm, formInputChanged } from '../../../../shared/form-utility';\nimport { formObjectToArray, tranformPascalCaseToUnderscoreCase, mapKeyToValue } from '../../../../shared/utility';\nimport Aux from '../../../../hoc/Aux/Aux';\nimport Container from 'react-bootstrap/Container';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\n\nimport classes from './Create.module.css';\nimport * as actions from '../../../../store/actions/index';\n\nclass CreateWorkout extends Component {\n    state = {\n        form: workoutForm,\n        validated: false\n    }\n\n    inputChangedHandler = ( event, key ) => {\n        this.setState({ form: formInputChanged( this.state.form, event, key ) });\n    }\n\n    onCreateWorkout = () => {\n        this.props.onCreateWorkout({\n            data: tranformPascalCaseToUnderscoreCase( mapKeyToValue( this.state.form ) ),\n            token: this.props.token \n        })\n    }\n\n   render () {\n    \n    let form = formObjectToArray( this.state.form ).map( ele => {\n        let formElements = null;\n\n        switch ( ele.settings.type ) {\n            case 'input' :\n                formElements = (\n                    <Aux>\n                        <Col xs=\"auto\" className=\"my-1\">\n                            <Form.Label> { ele.settings.label } </Form.Label>\n                        </Col>\n                        <Col sm={6} className=\"my-1\">\n                            <Form.Label htmlFor={ele.key} srOnly>\n                            { ele.settings.label }\n                            </Form.Label>\n                            <Form.Control \n                                type={ ele.settings.type }\n                                id={ele.key}\n                                placeholder={ ele.settings.config.placeholder }\n                                onChange={ event => this.inputChangedHandler( event, ele.key ) }/>\n                        </Col>\n                    </Aux>\n                );\n                break;\n            case 'select' :\n                const optionsData = ele.settings.config.options;\n                const options = Object.keys( optionsData ).map( key => {\n                    return (\n                        <option value={ key } key={key}> { optionsData[key] }</option>\n                    )\n                });\n                formElements = (\n                    <Aux>\n                        <Col sm={4} className=\"my-1\">\n                            <Form.Label htmlFor={ele.key} srOnly>\n                                unit\n                            </Form.Label>\n                            <Form.Control \n                                as=\"select\" \n                                defaultValue=\"Choose...\" \n                                id={ ele.key }\n                                onChange={ event => this.inputChangedHandler( event, ele.key )} >\n                                <option> { ele.settings.config.placeholder }...</option>\n                                { options }\n                            </Form.Control>\n                        </Col>\n                    </Aux>\n                );\n                break;\n            default:\n                console.log( ele.settings.type );\n        }\n\n        return (\n            <Form.Row className=\"align-items-center\" key={ ele.key }>\n                { formElements }                 \n            </Form.Row>\n        );\n    });\n\n    return (\n    <Container className={classes.Create}>\n        <Form>\n            <Redirect to={this.props.redirect} />\n            { form }\n            <Button variant='danger' onClick={this.onCreateWorkout}>\n                Submit\n            </Button>\n        </Form>\n    </Container>\n    );\n   }\n}\n\nconst mapStateToProps = state => {\n    return {\n        token: state.signin.token,\n        view: state.workouts.view,\n        redirect: state.workouts.redirect\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onCreateWorkout: data => dispatch( actions.createWorkout( data ))\n    }\n}\n\nexport default connect( mapStateToProps, mapDispatchToProps ) ( CreateWorkout );"]},"metadata":{},"sourceType":"module"}